{% extends 'base.html' %}
{% block title %}Academic Progression{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Academic Progression for {{ student.name }}</h2>
    <p>
        <strong>Register Number:</strong> {{ student.regNo }} |
        <strong>Class:</strong> {{ student.class }}
    </p>
    <div id="progression-chart" style="width:100%; height:400px;"></div>

    <div class="alert alert-info mt-4">
        <h4>Total Marks Percentage</h4>
        <p>{{ percentage | round(2) }}%</p>
    </div>

    <div class="mt-4">
        <a href="{{ url_for('academic_progression_search') }}" class="btn btn-primary">Search Another Student</a>
    </div>
</div>
{% endblock %}

{% block scripts %}

<script src="https://code.highcharts.com/highcharts.js"></script>

<script src="{{ url_for('static', filename='js/progression_chart.js') }}"></script>
<script>
    var progressionData = {{ progression | tojson }};
    initProgressionChart('progression-chart', progressionData);
</script>
{% endblock %}
